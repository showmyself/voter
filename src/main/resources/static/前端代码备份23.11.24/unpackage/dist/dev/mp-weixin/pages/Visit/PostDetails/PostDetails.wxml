<view class="my-page-root data-v-55c54db0"><my-nav-bar vue-id="62e36644-1" title="帖子详情" class="data-v-55c54db0" bind:__l="__l"></my-nav-bar><view class="my-page-root-child data-v-55c54db0"><view class="my-flex-usual data-v-55c54db0"><view class="my-center-one data-v-55c54db0" style="width:20%;height:35rpx;"><navigator data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="series-btn _a data-v-55c54db0" bindtap="__e">{{"系列："+(post.series?post.series:"无")}}</navigator></view><view style="width:40%;" class="data-v-55c54db0"></view><block wx:if="{{post.userId!=userId}}"><view style="width:20%;" class="data-v-55c54db0"></view></block><view class="my-center-one data-v-55c54db0" style="width:20%;"><navigator data-event-opts="{{[['tap',[['collect',['$event']]]]]}}" class="collect-btn _a data-v-55c54db0" bindtap="__e">{{hasCollected?"★已收藏":"✰未收藏"}}</navigator></view><block wx:if="{{post.userId==userId}}"><view class="my-center-one data-v-55c54db0" style="width:20%;"><image class="icon data-v-55c54db0" style="{{$root.s0}}" mode="widthFix" src="{{$root.m0}}" data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" bindtap="__e"></image><u-modal vue-id="62e36644-2" title-style="{{({color:'cornflowerblue'})}}" show-cancel-button="{{true}}" value="{{isDelete}}" data-event-opts="{{[['^confirm',[['confirmDelete']]],['^cancel',[['e2']]],['^input',[['__set_model',['','isDelete','$event',[]]]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:input="__e" class="data-v-55c54db0" bind:__l="__l" vue-slots="{{['default']}}"><view class="my-center-one data-v-55c54db0" style="height:80rpx;color:red;">确认删除此帖？</view></u-modal></view></block></view><view style="height:1px;background-color:lightgray;" class="data-v-55c54db0"></view><view style="margin-top:15rpx;" class="data-v-55c54db0"></view><view class="title data-v-55c54db0" style="width:65%;">{{post.title}}</view><view style="margin-top:30rpx;" class="data-v-55c54db0"></view><view class="content data-v-55c54db0">{{post.content}}</view><view style="margin-top:30rpx;" class="data-v-55c54db0"></view><block wx:if="{{post.picSrc}}"><image style="max-width:90%;" mode="aspectFit" src="{{post.picSrc}}" data-event-opts="{{[['error',[['imageError',['$event']]]]]}}" binderror="__e" class="data-v-55c54db0"></image></block><view style="margin-top:30rpx;" class="data-v-55c54db0"></view><view style="margin-top:20rpx;" class="data-v-55c54db0"></view><view class="data-v-55c54db0"><view class="{{['data-v-55c54db0',post.finished?'finished':'not-finished']}}" style="display:inline-block;" space="ensp">{{''+(post.finished?"◉ 已结束  ":"● 进行中...  ")}}</view><navigator data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" style="color:slategray;float:right;" bindtap="__e" class="_a data-v-55c54db0">[查看细节]</navigator></view><view style="margin-top:15rpx;" class="data-v-55c54db0"></view><block wx:if="{{isShowMoreDetail}}"><view class="data-v-55c54db0"><view class="data-v-55c54db0"><text class="detail-label data-v-55c54db0">编号：</text><text class="detail-value data-v-55c54db0">{{''+post.number+''}}</text></view><view class="data-v-55c54db0"><text class="detail-label data-v-55c54db0">浏览量：</text><text class="detail-value data-v-55c54db0">{{''+post.viewCount+''}}</text></view><view class="data-v-55c54db0"><text class="detail-label data-v-55c54db0">创建时间：</text><text class="detail-value data-v-55c54db0">{{''+$root.g0+''}}</text></view><view class="data-v-55c54db0"><text class="detail-label data-v-55c54db0">截止日期：</text><text class="detail-value data-v-55c54db0">{{''+(post.endTime?$root.g1:"无期限")+''}}</text></view><view class="data-v-55c54db0"><text class="detail-label data-v-55c54db0">限票：</text><text class="detail-value data-v-55c54db0">{{''+(post.maxVoteCount>0?post.maxVoteCount:"不限制")+''}}</text></view></view></block><view style="height:1px;background-color:lightgray;" class="data-v-55c54db0"></view><view style="margin-top:30rpx;" class="data-v-55c54db0"></view><block wx:if="{{!isLogin}}"><view class="vote-desc data-v-55c54db0">尚未登录，投票需先登录</view></block><block wx:if="{{isLogin}}"><view class="vote-desc data-v-55c54db0" style="margin-top:3rpx;">{{''+(voteOptionId?"您已选投了 ["+$root.m1+"]":"您尚未参与选投（点击选项进行选投）")+''}}</view></block><view style="margin-top:30rpx;" class="data-v-55c54db0"></view><view class="data-v-55c54db0"><block wx:for="{{post.options}}" wx:for-item="option" wx:for-index="index" wx:key="index"><view class="data-v-55c54db0"><view class="data-v-55c54db0"><view style="display:inline-block;font-size:70%;width:10%;" class="data-v-55c54db0">{{"选项"+index+"："}}</view><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" data-event-params="{{({index})}}" style="display:inline-block;min-height:50rpx;width:90%;" bindtap="__e" class="data-v-55c54db0"><my-option-show vue-id="{{'62e36644-3-'+index}}" option="{{option}}" class="data-v-55c54db0" bind:__l="__l"></my-option-show></view><view style="margin-top:20rpx;" class="data-v-55c54db0"></view></view></view></block></view><view style="height:200rpx;" class="data-v-55c54db0"></view><view class="toolbar my-center-one data-v-55c54db0"><view style="width:90%;" class="data-v-55c54db0"><view style="display:inline-block;width:20%;margin-left:1%;" class="data-v-55c54db0"><button data-event-opts="{{[['tap',[['toShowResult']]]]}}" bindtap="__e" class="data-v-55c54db0">{{showChart?"隐藏结果":"展示结果"}}</button></view><button data-event-opts="{{[['tap',[['showComments',['$event']]]]]}}" style="width:30%;float:right;margin-right:1%;" bindtap="__e" class="data-v-55c54db0"><image class="icon data-v-55c54db0" style="{{$root.s1}}" mode="widthFix" src="{{$root.m2}}"></image><block wx:if="{{post.commentAble}}"><text class="data-v-55c54db0">{{"评论("+post.commentCount+")"}}</text></block><block wx:if="{{!post.commentAble}}"><text class="data-v-55c54db0">评论已被关闭</text></block></button></view></view><u-popup bind:input="__e" vue-id="62e36644-4" mode="bottom" height="50%" value="{{showChart}}" data-event-opts="{{[['^input',[['__set_model',['','showChart','$event',[]]]]]]}}" class="data-v-55c54db0" bind:__l="__l" vue-slots="{{['default']}}"><view style="height:30rpx;" class="data-v-55c54db0"></view><view class="my-center-one my-at-center-horizontal-block data-v-55c54db0" style="width:20%;"><block wx:if="{{showChart}}"><navigator data-event-opts="{{[['tap',[['changeChart',['$event']]]]]}}" style="color:darkgray;font-size:110%;font-weight:500;" bindtap="__e" class="_a data-v-55c54db0">切换视图</navigator></block></view><view style="height:30rpx;" class="data-v-55c54db0"></view><block wx:if="{{loaded&&showChart}}"><view class="my-center-one data-v-55c54db0"><block wx:if="{{chartType=='bar'}}"><view style="width:90%;" class="data-v-55c54db0"><my-bar-chart vue-id="{{('62e36644-5')+','+('62e36644-4')}}" options="{{myBarChartData}}" class="data-v-55c54db0" bind:__l="__l"></my-bar-chart></view></block><block wx:if="{{chartType=='pie'}}"><view style="width:90%;" class="data-v-55c54db0"><qiun-data-charts vue-id="{{('62e36644-6')+','+('62e36644-4')}}" type="pie" opts="{{pieChartData.opts}}" chartData="{{pieChartData.chartData}}" class="data-v-55c54db0" bind:__l="__l"></qiun-data-charts></view></block></view></block></u-popup><u-popup bind:input="__e" vue-id="62e36644-7" mode="bottom" height="80%" value="{{isShowComments}}" data-event-opts="{{[['^input',[['__set_model',['','isShowComments','$event',[]]]]]]}}" class="data-v-55c54db0" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-55c54db0"><view class="my-center-one data-v-55c54db0" style="color:gray;font-weight:bold;">评论</view><view style="height:20rpx;" class="data-v-55c54db0"></view><view class="my-flex-usual data-v-55c54db0" style="align-items:center;"><view style="width:20%;" class="data-v-55c54db0"><navigator data-event-opts="{{[['tap',[['orderComments',['$event']]]]]}}" style="text-decoration:underline;font-size:70%;" bindtap="__e" class="_a data-v-55c54db0">{{"当前："+(orderByTimeOrHot=="hot"?"按热度排序":"按时间排序")}}</navigator></view><view style="width:10%;" class="data-v-55c54db0"></view><view style="width:50%;" class="data-v-55c54db0"><input data-event-opts="{{[['input',[['__set_model',['','inputComment','$event',[]]]]]]}}" style="background-color:lightgray;height:30rpx;border-radius:10rpx;" value="{{inputComment}}" bindinput="__e" class="data-v-55c54db0"/></view><view style="width:2%;" class="data-v-55c54db0"></view><view style="width:18%;" class="data-v-55c54db0"><button data-event-opts="{{[['tap',[['addComment',['$event']]]]]}}" style="font-size:70%;width:80%;float:left;" bindtap="__e" class="data-v-55c54db0">发送</button></view></view><view style="height:20rpx;" class="data-v-55c54db0"></view><block wx:if="{{$root.g2==0}}"><my-empty vue-id="{{('62e36644-8')+','+('62e36644-7')}}" type="comment" text="评论为空" class="data-v-55c54db0" bind:__l="__l"></my-empty></block><block wx:for="{{comments}}" wx:for-item="cmt" wx:for-index="index" wx:key="id"><view class="data-v-55c54db0"><view style="margin-top:20rpx;" class="data-v-55c54db0"></view><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" data-event-params="{{({index,cmt})}}" bindtap="__e" class="data-v-55c54db0"><my-comment vue-id="{{('62e36644-9-'+index)+','+('62e36644-7')}}" comment="{{cmt}}" class="data-v-55c54db0" bind:__l="__l"></my-comment></view><block wx:if="{{isLogin}}"><view class="data-v-55c54db0"><block wx:if="{{userId==cmt.userId}}"><navigator data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" data-event-params="{{({index})}}" style="text-decoration:underline;color:red;font-size:80%;" bindtap="__e" class="_a data-v-55c54db0">删除</navigator></block></view></block></view></block><u-modal vue-id="{{('62e36644-10')+','+('62e36644-7')}}" title="回复" title-style="{{({color:'cornflowerblue'})}}" show-cancel-button="{{true}}" value="{{isReply}}" data-event-opts="{{[['^confirm',[['confirmReply']]],['^cancel',[['e7']]],['^input',[['__set_model',['','isReply','$event',[]]]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:input="__e" class="data-v-55c54db0" bind:__l="__l" vue-slots="{{['default']}}"><view class="slot-content data-v-55c54db0"><view style="margin-top:20rpx;" class="data-v-55c54db0"></view><view style="width:80%;margin:0 auto;" class="data-v-55c54db0"><input data-event-opts="{{[['input',[['__set_model',['','commentForReply','$event',[]]]]]]}}" style="background-color:lightgray;border-radius:8rpx;" value="{{commentForReply}}" bindinput="__e" class="data-v-55c54db0"/></view><view style="margin-top:20rpx;" class="data-v-55c54db0"></view></view></u-modal><u-modal vue-id="{{('62e36644-11')+','+('62e36644-7')}}" title-style="{{({color:'cornflowerblue'})}}" show-cancel-button="{{true}}" value="{{isDeleteComment}}" data-event-opts="{{[['^confirm',[['confirmDeleteComment']]],['^cancel',[['e8']]],['^input',[['__set_model',['','isDeleteComment','$event',[]]]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:input="__e" class="data-v-55c54db0" bind:__l="__l" vue-slots="{{['default']}}"><view class="my-center-one data-v-55c54db0" style="color:red;">确定删除？</view></u-modal><my-pagination bind:searchPage="__e" vue-id="{{('62e36644-12')+','+('62e36644-7')}}" data-ref="mypagination" data-event-opts="{{[['^searchPage',[['searchPage']]]]}}" class="data-v-55c54db0 vue-ref" bind:__l="__l"></my-pagination></view></u-popup></view></view>