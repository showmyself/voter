{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/Projects/UniappProjects/voter/pages/Visit/PostDetails/PostDetails.vue?82ce","webpack:///D:/Projects/UniappProjects/voter/pages/Visit/PostDetails/PostDetails.vue?0edb","webpack:///D:/Projects/UniappProjects/voter/pages/Visit/PostDetails/PostDetails.vue?c89d","uni-app:///pages/Visit/PostDetails/PostDetails.vue","webpack:///D:/Projects/UniappProjects/voter/pages/Visit/PostDetails/PostDetails.vue?fb2e","webpack:///D:/Projects/UniappProjects/voter/pages/Visit/PostDetails/PostDetails.vue?30c6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","post","id","title","content","picSrc","category","number","key","startTime","endTime","viewCount","userId","commentAble","maxVoteCount","voteCount","series","options","finished","commentCount","isShowMoreDetail","voteOptionId","showChart","chartType","loaded","myBarChartData","desc","count","pieChartData","chartData","name","value","labelText","opts","extra","pie","border","borderWidth","borderColor","isDelete","hasCollected","isLogin","isShowComments","comments","pageSize","orderByTimeOrHot","inputComment","isReply","commentForReply","isDeleteComment","targetCommentIndex","methods","imageError","console","toShowResult","changeChart","scrollToChart","voteFor","getVoteOptionDesc","refreshChartDataByPostOptions","rate","pirArray","collect","findSameSeries","confirmDelete","load","backRefresh","searchPage","newStart","toPage1","showComments","setTimeout","orderComments","addComment","postId","remark","confirmDeleteComment","toReply","confirmReply","onLoad","routeParamObj"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACuM;AACvM,gBAAgB,+MAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,qXAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,0PAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAO,CAAC,0BAAiB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,yBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/JA;AAAA;AAAA;AAAA;AAA+wB,CAAgB,+xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCsOnyB;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QAAA;QACAC;QACAC;QACAC;QACAC;MACA;MAEAC;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;QACAC;QACAC;MACA;MACA;MACAC;QACAC;UACAb;YAAA;YACAhB;cACA8B;cACAC;cACAC;YACA;UACA;QACA;QACAC;UAAA;UACAC;YACAC;cACAC;cACAC;cACAC;cACA;YACA;UACA;QACA;MACA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA7B;MAAA;;MAEA8B;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;IACA;IACAC;MACA;MACA,oBACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IAAA,CACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;MAEA;MACA;MACA;QAEA;QAEA;QACA;QAEA;QACA;QAEA;QACA;MACA;IAEA;IACAC;MAAA,2CACA;QAAA;MAAA;QAAA;UAAA;UACA,oCACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;IACA;IACAC;MAEA;MAEA;MAAA,4CACA;QAAA;MAAA;QAAA;UAAA;UACA;UACA,8BACAC,kEACAA;UAEAC;YACA/B;YACAC;YACAC;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;IACA;IACA8B;MAAA;MACA;QACA;UACA;UACA;QACA;MACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACAnD;QACAI;MACA;IACA;IAEAgD;MAAA;MACA;QACA;QACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;IACA;IAGAC;MAAA;MAAA;QAAAC;MACA,4GACApE;QACA;QACA;UACA,cACA,qCAEA;QACA;MACA;IACA;IACAqE;MACA,6BACA;IACA;IACAC;MAAA;MACA;QACA;QACAC;UAAA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MAEA;QACAvE;QACAwE;QACAC;MACA;MAEA;QACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MAEA;QACA5E;QACAwE;QACAC;MACA;MAEA;QACA;QACA;QACA;MACA;IACA;EACA;EACAI;IAAA;IACA,IACA7E,KAEA8E,cAFA9E;MACAM,MACAwE,cADAxE;IAEA;IACA;IACA;IAEA;IACA;MACA;IACA;IAEA;MACA;QACA;QACA;QACA;QACA;MACA;;MAEA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;AC5gBA;AAAA;AAAA;AAAA;AAA09C,CAAgB,86CAAG,EAAC,C;;;;;;;;;;;ACA9+C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/Visit/PostDetails/PostDetails.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/Visit/PostDetails/PostDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./PostDetails.vue?vue&type=template&id=55c54db0&scoped=true&\"\nvar renderjs\nimport script from \"./PostDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./PostDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostDetails.vue?vue&type=style&index=0&id=55c54db0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55c54db0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Visit/PostDetails/PostDetails.vue\"\nexport default component.exports","export * from \"-!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./PostDetails.vue?vue&type=template&id=55c54db0&scoped=true&\"","var components\ntry {\n  components = {\n    myNavBar: function () {\n      return import(\n        /* webpackChunkName: \"components/my-nav-bar/my-nav-bar\" */ \"@/components/my-nav-bar/my-nav-bar.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    myOptionShow: function () {\n      return import(\n        /* webpackChunkName: \"components/my-option-show/my-option-show\" */ \"@/components/my-option-show/my-option-show.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    myBarChart: function () {\n      return import(\n        /* webpackChunkName: \"components/my-bar-chart/my-bar-chart\" */ \"@/components/my-bar-chart/my-bar-chart.vue\"\n      )\n    },\n    qiunDataCharts: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts\" */ \"@/uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.vue\"\n      )\n    },\n    myEmpty: function () {\n      return import(\n        /* webpackChunkName: \"components/my-empty/my-empty\" */ \"@/components/my-empty/my-empty.vue\"\n      )\n    },\n    myComment: function () {\n      return import(\n        /* webpackChunkName: \"components/my-comment/my-comment\" */ \"@/components/my-comment/my-comment.vue\"\n      )\n    },\n    myPagination: function () {\n      return import(\n        /* webpackChunkName: \"components/my-pagination/my-pagination\" */ \"@/components/my-pagination/my-pagination.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 =\n    _vm.post.userId == _vm.userId ? _vm.__get_style([_vm.st.icon()]) : null\n  var m0 = _vm.post.userId == _vm.userId ? require(\"@/static/删除.png\") : null\n  var g0 = _vm.isShowMoreDetail\n    ? _vm.util.removeSecondForTimeStr(_vm.post.startTime)\n    : null\n  var g1 =\n    _vm.isShowMoreDetail && _vm.post.endTime\n      ? _vm.util.removeSecondForTimeStr(_vm.post.endTime)\n      : null\n  var m1 = _vm.isLogin && _vm.voteOptionId ? _vm.getVoteOptionDesc() : null\n  var s1 = _vm.__get_style([_vm.st.icon()])\n  var m2 = require(\"@/static/评论.png\")\n  var g2 = _vm.comments.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function () {\n      if (_vm.post.series) {\n        _vm.findSameSeries()\n      }\n    }\n    _vm.e1 = function ($event) {\n      _vm.isDelete = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.isDelete = false\n    }\n    _vm.e3 = function ($event) {\n      _vm.isShowMoreDetail = !_vm.isShowMoreDetail\n    }\n    _vm.e4 = function (index) {\n      var args = [],\n        len = arguments.length - 1\n      while (len-- > 0) args[len] = arguments[len + 1]\n\n      var _temp = args[args.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index\n      var _temp, _temp2\n      _vm.voteFor(index)\n    }\n    _vm.e5 = function (index, cmt) {\n      var args = [],\n        len = arguments.length - 2\n      while (len-- > 0) args[len] = arguments[len + 2]\n\n      var _temp3 = args[args.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        index = _temp4.index,\n        cmt = _temp4.cmt\n      var _temp3, _temp4\n      _vm.toReply(index, cmt)\n    }\n    _vm.e6 = function (index) {\n      var args = [],\n        len = arguments.length - 1\n      while (len-- > 0) args[len] = arguments[len + 1]\n\n      var _temp5 = args[args.length - 1].currentTarget.dataset,\n        _temp6 = _temp5.eventParams || _temp5[\"event-params\"],\n        index = _temp6.index\n      var _temp5, _temp6\n      _vm.isDeleteComment = true\n      _vm.targetCommentIndex = index\n    }\n    _vm.e7 = function ($event) {\n      _vm.isReply = false\n    }\n    _vm.e8 = function ($event) {\n      _vm.isDeleteComment = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0,\n        m0: m0,\n        g0: g0,\n        g1: g1,\n        m1: m1,\n        s1: s1,\n        m2: m2,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./PostDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./PostDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"my-page-root\">\r\n\t\t<my-nav-bar title=\"帖子详情\" />\r\n\t\t<view class=\"my-page-root-child\">\r\n\r\n\t\t\t<!--系列、收藏、删除-->\r\n\t\t\t<view class=\"my-flex-usual\">\r\n\r\n\t\t\t\t<view class=\"my-center-one\" style=\"width: 20%;height: 35rpx;\">\r\n\t\t\t\t\t<a class=\"series-btn\"\r\n\t\t\t\t\t\t@click=\"()=>{if(post.series)findSameSeries()}\">系列：{{post.series?post.series:\"无\"}}</a>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view style=\"width: 40%\" />\r\n\t\t\t\t<view v-if=\"post.userId!=userId\" style=\"width: 20%\" />\r\n\r\n\t\t\t\t<view class=\"my-center-one\" style=\"width: 20%;\">\r\n\t\t\t\t\t<a class=\"collect-btn\" @click=\"collect\">{{hasCollected?\"★已收藏\":\"✰未收藏\"}}</a>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!--如果浏览的是自己的，则可以做删除操作-->\r\n\t\t\t\t<view v-if=\"post.userId==userId\" class=\"my-center-one\" style=\"width: 20%;\">\r\n\t\t\t\t\t<image mode=\"widthFix\" class=\"icon\" :style=\"[st.icon()]\" :src=\"require('@/static/删除.png')\" @click=\"isDelete=true\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<u-modal v-model=\"isDelete\" :title-style=\"{color: 'cornflowerblue'}\" @confirm=\"confirmDelete\"\r\n\t\t\t\t\t\t@cancel=\"isDelete=false\" :show-cancel-button=\"true\">\r\n\t\t\t\t\t\t<view class=\"my-center-one\" style=\"height: 80rpx; color:red\">确认删除此帖？</view>\r\n\t\t\t\t\t</u-modal>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t\t<view style=\"height: 1px;background-color: lightgray;\" />\r\n\r\n\t\t\t<view style=\"margin-top: 15rpx;\" />\r\n\t\t\t<view class=\"title\" style=\"width: 65%;\">{{post.title}}</view>\r\n\t\t\t<view style=\"margin-top: 30rpx;\" />\r\n\t\t\t<view class=\"content\">{{post.content}}</view>\r\n\t\t\t<view style=\"margin-top: 30rpx;\" />\r\n\t\t\t<image v-if=\"post.picSrc\" mode=\"aspectFit\" style=\"max-width: 90%\" :src=\"post.picSrc\" @error=\"imageError\"/>\r\n\t\t\t<!-- <image v-if=\"post.picSrc\" mode=\"aspectFit\" style=\"max-width: 90%\" src=\"http://192.168.56.1:9000/static/pictures/akeron-1694774274642.png\" @error=\"imageError\"/> -->\r\n\t\t\t<!-- <view :style=\"{backgroundImage:`url(${post.picSrc})`,backgroundSize: 'cover'}\"/> -->\r\n\t\t\t<view style=\"margin-top: 30rpx;\" />\r\n\r\n\t\t\t<view style=\"margin-top: 20rpx;\" />\r\n\t\t\t<view>\r\n\t\t\t\t<view :class=\"post.finished?'finished':'not-finished'\" space=\"ensp\" style=\"display: inline-block;\">\r\n\t\t\t\t\t{{post.finished?\"◉ 已结束  \":\"● 进行中...  \"}}</view>\r\n\t\t\t\t<a style=\"color:slategray;float:right\" @click=\"isShowMoreDetail=!isShowMoreDetail\">[查看细节]</a>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"margin-top: 15rpx;\" />\r\n\r\n\t\t\t<view v-if=\"isShowMoreDetail\">\r\n\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"detail-label\">\r\n\t\t\t\t\t\t编号：\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t{{post.number}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"detail-label\">\r\n\t\t\t\t\t\t浏览量：\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t{{post.viewCount}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"detail-label\">\r\n\t\t\t\t\t\t创建时间：\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t{{util.removeSecondForTimeStr(post.startTime)}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"detail-label\">\r\n\t\t\t\t\t\t截止日期：\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t{{post.endTime?util.removeSecondForTimeStr(post.endTime):\"无期限\"}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"detail-label\">\r\n\t\t\t\t\t\t限票：\r\n\t\t\t\t\t</text>\r\n\t\t\t\t\t<text class=\"detail-value\">\r\n\t\t\t\t\t\t{{post.maxVoteCount>0?post.maxVoteCount:\"不限制\"}}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t\t<view style=\"height: 1px;background-color: lightgray;\" />\r\n\r\n\t\t\t<view style=\"margin-top: 30rpx;\" />\r\n\t\t\t<view v-if=\"!isLogin\" class=\"vote-desc\">\r\n\t\t\t\t尚未登录，投票需先登录\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"isLogin\" style=\"margin-top: 3rpx;\" class=\"vote-desc\">\r\n\t\t\t\t{{voteOptionId?\"您已选投了 [\"+getVoteOptionDesc()+\"]\":\"您尚未参与选投（点击选项进行选投）\"}}\r\n\t\t\t</view>\r\n\r\n\t\t\t<view style=\"margin-top: 30rpx;\" />\r\n\r\n\t\t\t<!--选择列表-->\r\n\t\t\t<view>\r\n\t\t\t\t<view v-for=\"option,index in post.options\" :key=\"index\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view style=\"display:inline-block; font-size:70%;width: 10%;\">选项{{index}}：</view>\r\n\t\t\t\t\t\t<view style=\"display:inline-block;min-height: 50rpx;width: 90%;\" @click=\"()=>{voteFor(index)}\">\r\n\t\t\t\t\t\t\t<my-option-show :option=\"option\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-top: 20rpx;\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view style=\"height: 200rpx;\" />\r\n\t\t\t\r\n\t\t\t<!--悬浮的工具栏，包括：展示结果按钮、切换视图按钮、评论按钮-->\r\n\t\t\t<view class=\"toolbar my-center-one\">\r\n\t\t\t\t<view style=\"width: 90%;\">\r\n\t\t\t\t\t<view style=\"display: inline-block; width: 20%;margin-left: 1%;\">\r\n\t\t\t\t\t\t<button @click=\"toShowResult()\">{{showChart?\"隐藏结果\":\"展示结果\"}}</button>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<button style=\"width: 30%;float:right;margin-right: 1%;\" @click=\"showComments\">\r\n\t\t\t\t\t\t<image mode=\"widthFix\" class=\"icon\" :style=\"[st.icon()]\" :src=\"require('@/static/评论.png')\" />\r\n\t\t\t\t\t\t<text v-if=\"post.commentAble\">评论({{post.commentCount}})</text>\r\n\t\t\t\t\t\t<text v-if=\"!post.commentAble\">评论已被关闭</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!--弹出层展示图-->\r\n\t\t\t<u-popup v-model=\"showChart\" mode=\"bottom\" height=\"50%\">\r\n\t\t\t\t\r\n\t\t\t\t<view style=\"height: 30rpx;\"/>\r\n\t\t\t\t<view style=\"width: 20%;\" class=\"my-center-one my-at-center-horizontal-block\">\r\n\t\t\t\t\t<a v-if=\"showChart\" @click=\"changeChart\" style=\"color:darkgray;font-size: 110%;font-weight: 500;\">切换视图</a>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"height: 30rpx;\"/>\r\n\t\t\t\t\r\n\t\t\t\t<!--展示图-->\r\n\t\t\t\t<view class=\"my-center-one\" v-if=\"loaded&&showChart\">\r\n\t\t\t\t\t<view v-if=\"chartType=='bar'\" style=\"width: 90%;\">\r\n\t\t\t\t\t\t<!--自己做的条形展示图-->\r\n\t\t\t\t\t\t<my-bar-chart :options=\"myBarChartData\"></my-bar-chart>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"chartType=='pie'\" style=\"width: 90%;\">\r\n\t\t\t\t\t\t<!--引用别人的插件展示扇形图（饼图）-->\r\n\t\t\t\t\t\t<qiun-data-charts type=\"pie\" :opts=\"pieChartData.opts\" :chartData=\"pieChartData.chartData\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</u-popup>\r\n\r\n\t\t\t<!--弹出层评论-->\r\n\t\t\t<u-popup v-model=\"isShowComments\" mode=\"bottom\" height=\"80%\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"my-center-one\" style=\"color:gray;font-weight: bold\">评论</view>\r\n\t\t\t\t\t<view style=\"height: 20rpx;\" />\r\n\t\t\t\t\t<view class=\"my-flex-usual\" style=\"align-items: center;\">\r\n\t\t\t\t\t\t<view style=\"width: 20%;\">\r\n\t\t\t\t\t\t\t<a style=\"text-decoration: underline;font-size: 70%;\"\r\n\t\t\t\t\t\t\t\t@click=\"orderComments\">{{\"当前：\"+(orderByTimeOrHot==\"hot\"?\"按热度排序\":\"按时间排序\")}}</a>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"width: 10%;\" />\r\n\t\t\t\t\t\t<view style=\"width: 50%;\">\r\n\t\t\t\t\t\t\t<input style=\"background-color: lightgray;height: 30rpx;border-radius: 10rpx;\"\r\n\t\t\t\t\t\t\t\tv-model=\"inputComment\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"width: 2%;\" />\r\n\t\t\t\t\t\t<view style=\"width: 18%;\">\r\n\t\t\t\t\t\t\t<button style=\"font-size: 70%;width: 80%;float:left\" @click=\"addComment\">发送</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"height: 20rpx;\" />\r\n\r\n\t\t\t\t\t<my-empty v-if=\"comments.length==0\" type=\"comment\" text=\"评论为空\" />\r\n\r\n\t\t\t\t\t<view v-for=\"cmt,index in comments\" :key=\"cmt.id\">\r\n\t\t\t\t\t\t<view style=\"margin-top: 20rpx;\" />\r\n\t\t\t\t\t\t<!--不知为何，这里多传入一个cmt才正确-->\r\n\t\t\t\t\t\t<view @click=\"()=>{toReply(index,cmt)}\">\r\n\t\t\t\t\t\t\t<my-comment :comment=\"cmt\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"isLogin\">\r\n\t\t\t\t\t\t\t<a style=\"text-decoration: underline;color: red;font-size: 80%\" v-if=\"userId==cmt.userId\"\r\n\t\t\t\t\t\t\t\t@click=\"()=>{isDeleteComment=true;targetCommentIndex=index}\">删除</a>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<u-modal v-model=\"isReply\" title=\"回复\" :title-style=\"{color: 'cornflowerblue'}\"\r\n\t\t\t\t\t\t@confirm=\"confirmReply\" @cancel=\"isReply=false\" :show-cancel-button=\"true\">\r\n\t\t\t\t\t\t<view class=\"slot-content\">\r\n\t\t\t\t\t\t\t<view style=\"margin-top: 20rpx;\" />\r\n\t\t\t\t\t\t\t<view style=\"width: 80%;margin:0 auto;\">\r\n\t\t\t\t\t\t\t\t<input style=\"background-color: lightgray;border-radius: 8rpx;\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"commentForReply\">\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"margin-top: 20rpx;\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-modal>\r\n\r\n\t\t\t\t\t<u-modal v-model=\"isDeleteComment\" :title-style=\"{color: 'cornflowerblue'}\"\r\n\t\t\t\t\t\t@confirm=\"confirmDeleteComment\" @cancel=\"isDeleteComment=false\" :show-cancel-button=\"true\">\r\n\t\t\t\t\t\t<view style=\"color:red\" class=\"my-center-one\">\r\n\t\t\t\t\t\t\t确定删除？\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-modal>\r\n\r\n\t\t\t\t\t<my-pagination @searchPage=\"searchPage\" ref=\"mypagination\" />\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpost: {\r\n\t\t\t\t\tid: \"\",\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\tpicSrc: \"\",\r\n\t\t\t\t\tcategory: \"\",\r\n\t\t\t\t\tnumber: \"\",\r\n\t\t\t\t\tkey: \"\",\r\n\t\t\t\t\tstartTime: \"\",\r\n\t\t\t\t\tendTime: \"\",\r\n\t\t\t\t\tviewCount: 0,\r\n\t\t\t\t\tuserId: 1,\r\n\t\t\t\t\tcommentAble: true,\r\n\t\t\t\t\tmaxVoteCount: 1,\r\n\t\t\t\t\tvoteCount: 0, //当前已投票数\r\n\t\t\t\t\tseries: \"\",\r\n\t\t\t\t\toptions: [],\r\n\t\t\t\t\tfinished: false,\r\n\t\t\t\t\tcommentCount: 0,\r\n\t\t\t\t},\r\n\r\n\t\t\t\tisShowMoreDetail: false,\r\n\r\n\t\t\t\tvoteOptionId: null, //用户已经投过的选项id，没有投过则为null\r\n\t\t\t\tshowChart: false, //是否显示图形，如果voteOptionId为空，则默认不显示\r\n\t\t\t\tchartType: 'bar', //柱形'bar'或者扇形fan\r\n\t\t\t\tloaded: false, //加载完毕再允许显示图形，主要针对自己的组件bug\r\n\r\n\t\t\t\t//自己做的条形图所需数据\r\n\t\t\t\tmyBarChartData: [{\r\n\t\t\t\t\tdesc: \"\",\r\n\t\t\t\t\tcount: 0\r\n\t\t\t\t}, ],\r\n\t\t\t\t//引入的扇形图所需数据\r\n\t\t\t\tpieChartData: {\r\n\t\t\t\t\tchartData: {\r\n\t\t\t\t\t\tseries: [{ //扇形图有一定的局限，如果选项描述过长，可能显示不友好，自己没法调整，只有让帖子建立者自行调整选项长度\r\n\t\t\t\t\t\t\tdata: [{\r\n\t\t\t\t\t\t\t\tname: \"\",\r\n\t\t\t\t\t\t\t\tvalue: 0,\r\n\t\t\t\t\t\t\t\tlabelText: \"自定义\"\r\n\t\t\t\t\t\t\t}, ]\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\topts: { //对显示图形的细节调整\r\n\t\t\t\t\t\textra: {\r\n\t\t\t\t\t\t\tpie: {\r\n\t\t\t\t\t\t\t\tborder: true,\r\n\t\t\t\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\t\t\t\tborderColor: \"white\",\r\n\t\t\t\t\t\t\t\t//..其他属性暂时不需要\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\r\n\t\t\t\tisDelete: false, //正要删除\r\n\t\t\t\thasCollected: false, //用户是否已收藏过\r\n\t\t\t\tisLogin: false, //用户是否已登录\r\n\t\t\t\tuserId: null, //登录的用户id\r\n\r\n\t\t\t\tisShowComments: false,\r\n\t\t\t\tcomments: [],\r\n\t\t\t\tpageSize: 3,\r\n\t\t\t\torderByTimeOrHot: \"time\",\r\n\t\t\t\tinputComment: \"\",\r\n\t\t\t\tisReply: false,\r\n\t\t\t\tcommentForReply: \"\",\r\n\t\t\t\tisDeleteComment: false,\r\n\t\t\t\ttargetCommentIndex: 0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\timageError(e){\r\n\t\t\t\tconsole.log(\"加载图片发生错误：\"+e.detail.errMsg)\r\n\t\t\t},\r\n\t\t\ttoShowResult(){\r\n\t\t\t\tthis.showChart=!this.showChart\r\n\t\t\t\tif(this.showChart)\r\n\t\t\t\t\tthis.scrollToChart()\r\n\t\t\t},\r\n\t\t\tchangeChart() {\r\n\t\t\t\tthis.chartType = this.chartType == 'bar' ? 'pie' : 'bar'\r\n\t\t\t\tthis.scrollToChart()\r\n\t\t\t},\r\n\t\t\tscrollToChart(){//不再需要，图形将在popup窗口里展示\r\n\t\t\t\t//页面滑动到最底部，需要一点延迟把元素渲染出来后再处理才正确：\r\n\t\t\t\t// setTimeout(()=>{\r\n\t\t\t\t// \tuni.pageScrollTo({scrollTop: 99999, duration: 200});\r\n\t\t\t\t// },200)\r\n\t\t\t},\r\n\t\t\tvoteFor(index) {\r\n\t\t\t\tif (!this.isLogin) {\r\n\t\t\t\t\tthis.util.toast(\"登录后再选投\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.voteOptionId) {\r\n\t\t\t\t\tthis.util.toast(\"已经投过票了\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst optionId = this.post.options[index].id\r\n\t\t\t\tthis.loaded = false\r\n\t\t\t\tthis.api.post.vote(this.post.id, optionId, () => {\r\n\r\n\t\t\t\t\tthis.util.toast(\"投选成功\")\r\n\r\n\t\t\t\t\tthis.post.voteCount += 1\r\n\t\t\t\t\tthis.voteOptionId = optionId\r\n\r\n\t\t\t\t\tthis.post.options[index].count += 1\r\n\t\t\t\t\tthis.refreshChartDataByPostOptions()\r\n\r\n\t\t\t\t\tthis.loaded = true\r\n\t\t\t\t\tthis.showChart = true\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tgetVoteOptionDesc() {\r\n\t\t\t\tfor (const option of this.post.options) {\r\n\t\t\t\t\tif (option.id == this.voteOptionId)\r\n\t\t\t\t\t\treturn option.desc\r\n\t\t\t\t}\r\n\t\t\t\treturn \"空\"\r\n\t\t\t},\r\n\t\t\trefreshChartDataByPostOptions() {\r\n\r\n\t\t\t\tthis.myBarChartData = [...this.post.options]\r\n\r\n\t\t\t\tlet pirArray = []\r\n\t\t\t\tfor (const option of this.post.options) {\r\n\t\t\t\t\tlet rate\r\n\t\t\t\t\tif (this.post.voteCount == 0)\r\n\t\t\t\t\t\trate = Math.floor(100 * 1 / this.post.options.length) + \"% \"\r\n\t\t\t\t\telse rate = Math.floor(100 * option.count / this.post.voteCount) + \"% \"\r\n\r\n\t\t\t\t\tpirArray.push({\r\n\t\t\t\t\t\tname: option.desc,\r\n\t\t\t\t\t\tvalue: option.count,\r\n\t\t\t\t\t\tlabelText: rate + option.desc\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.pieChartData.chartData.series[0].data = [...pirArray]\r\n\t\t\t},\r\n\t\t\tcollect() {\r\n\t\t\t\tif (!this.hasCollected) {\r\n\t\t\t\t\tthis.api.user.addCollect(this.post.id, (data) => {\r\n\t\t\t\t\t\tthis.util.toast(\"收藏成功\", 800)\r\n\t\t\t\t\t\tthis.hasCollected = true\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.api.user.removeCollect(this.post.id, (data) => {\r\n\t\t\t\t\t\tthis.util.toast(\"取消了收藏\", 500)\r\n\t\t\t\t\t\tthis.hasCollected = false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfindSameSeries() {\r\n\t\t\t\tthis.util.routeTo(\"SameSeriesPosts\", {\r\n\t\t\t\t\tuserId: this.post.userId,\r\n\t\t\t\t\tseries: this.post.series,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tconfirmDelete() {\r\n\t\t\t\tthis.api.post.delete(this.post.id, () => {\r\n\t\t\t\t\tthis.util.routeBack()\r\n\t\t\t\t\tthis.util.toast(\"已删除！\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tload() {\r\n\t\t\t\t//post的id和key会被预先从路由参数里获取并赋值\r\n\t\t\t\tthis.loaded = false\r\n\t\t\t\tthis.api.post.getById(this.post.id, this.post.key, (data) => {\r\n\t\t\t\t\tthis.post = data\r\n\t\t\t\t\tthis.refreshChartDataByPostOptions()\r\n\t\t\t\t\tthis.loaded = true\r\n\t\t\t\t}, (msg) => {\r\n\t\t\t\t\tthis.util.routeBack()\r\n\t\t\t\t\tthis.util.toast(msg ? msg : \"请求失败\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbackRefresh() { //该函数自动在使用util.routeBack到该页面后被调用\r\n\t\t\t\tthis.load()\r\n\t\t\t},\r\n\r\n\r\n\t\t\tsearchPage({targetPage,newStart}) {\r\n\t\t\t\tthis.api.comment.findPostComments(targetPage, this.pageSize, this.post.id, this.orderByTimeOrHot, (\r\n\t\t\t\tdata) => {\r\n\t\t\t\t\tconst succ = this.util.dealPage(targetPage, this.pageSize, data.total)\r\n\t\t\t\t\tif (succ) {\r\n\t\t\t\t\t\tif (newStart)\r\n\t\t\t\t\t\t\tthis.comments = data.comments\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis.comments = [...this.comments, ...data.comments]\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoPage1() {\r\n\t\t\t\tif (this.$refs.mypagination)\r\n\t\t\t\t\tthis.$refs.mypagination.reset()\r\n\t\t\t},\r\n\t\t\tshowComments() {\r\n\t\t\t\tif (this.post.commentAble) {\r\n\t\t\t\t\tthis.isShowComments = true\r\n\t\t\t\t\tsetTimeout(()=>{//延迟执行以解决一个无效的bug\r\n\t\t\t\t\t\tthis.toPage1()\r\n\t\t\t\t\t},100)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\torderComments() {\r\n\t\t\t\tthis.orderByTimeOrHot = this.orderByTimeOrHot == \"hot\" ? \"time\" : \"hot\"\r\n\t\t\t\tthis.showComments()\r\n\t\t\t},\r\n\t\t\taddComment() {\r\n\t\t\t\tif (this.inputComment.length < 3) {\r\n\t\t\t\t\tthis.util.toast(\"评论字数太少\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst dto = {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tpostId: this.post.id,\r\n\t\t\t\t\tremark: this.inputComment\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.api.comment.add(dto, (data) => {\r\n\t\t\t\t\tthis.util.toast(\"成功添加一条评论\")\r\n\t\t\t\t\tthis.post.commentCount += 1\r\n\t\t\t\t\tthis.showComments()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmDeleteComment() {\r\n\t\t\t\tthis.api.comment.delete(this.comments[this.targetCommentIndex].id, (succ) => {\r\n\t\t\t\t\tthis.util.toast(\"已删除\")\r\n\t\t\t\t\tthis.post.commentCount -= 1\r\n\t\t\t\t\tthis.showComments()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoReply(index, cmt) {\r\n\t\t\t\tthis.isReply = true;\r\n\t\t\t\tthis.targetCommentIndex = index;\r\n\t\t\t},\r\n\t\t\tconfirmReply() {\r\n\t\t\t\tif (this.commentForReply.length == 0) {\r\n\t\t\t\t\tthis.util.toast(\"回复不能为空\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst dto = {\r\n\t\t\t\t\tid: this.comments[this.targetCommentIndex].id,\r\n\t\t\t\t\tpostId: this.post.id,\r\n\t\t\t\t\tremark: this.commentForReply\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.api.comment.reply(dto, (data) => {\r\n\t\t\t\t\tthis.util.toast(\"回复成功\")\r\n\t\t\t\t\tthis.post.commentCount += 1\r\n\t\t\t\t\tthis.showComments()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(routeParamObj) {\r\n\t\t\tconst {\r\n\t\t\t\tid,\r\n\t\t\t\tkey\r\n\t\t\t} = routeParamObj\r\n\t\t\tthis.post.id = id\r\n\t\t\tthis.post.key = key //这个是安全的，通过一般搜索无法搜索到带key的，只有搜自己的会自动附上key\r\n\t\t\tthis.load()\r\n\r\n\t\t\tthis.isLogin = this.vuex.get(\"isLogin\")\r\n\t\t\tif (this.isLogin) {\r\n\t\t\t\tthis.userId = this.vuex.get(\"user\").id\r\n\t\t\t}\r\n\r\n\t\t\tif (this.isLogin) {\r\n\t\t\t\tthis.api.post.hasVoted(id, (data) => {\r\n\t\t\t\t\tthis.voteOptionId = data.optionId\r\n\t\t\t\t\t// if (this.voteOptionId)\r\n\t\t\t\t\t// \tthis.showChart = true\r\n\t\t\t\t\t// else this.showChart = false\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.api.user.hasCollected(id, (data) => {\r\n\t\t\t\t\tthis.hasCollected = data\r\n\t\t\t\t})\r\n\t\t\t} else this.showChart = false\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.title {\r\n\t\tcolor: royalblue;\r\n\t\tfont-weight: 650;\r\n\t\tfont-size: 120%;\r\n\t}\r\n\r\n\t.content {\r\n\t\tcolor: dimgray;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 80%;\r\n\t\twhite-space: pre;\r\n\t}\r\n\r\n\t.number {\r\n\t\tcolor: black;\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 60%;\r\n\t}\r\n\r\n\t.series-label {\r\n\t\tcolor: black;\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 60%;\r\n\t}\r\n\r\n\t.series-btn {\r\n\t\tdisplay: inline-block;\r\n\t\t// color:darkorange;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 80%;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.view-count {\r\n\t\tcolor: black;\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 60%;\r\n\t}\r\n\r\n\t.detail-label {\r\n\t\tcolor: black;\r\n\t\tfont-weight: 300;\r\n\t\tfont-size: 70%;\r\n\t}\r\n\r\n\t.detail-value {\r\n\t\t// color:blue;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 70%;\r\n\t}\r\n\r\n\t.not-finished {\r\n\t\tcolor: seagreen;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 80%;\r\n\t}\r\n\r\n\t.finished {\r\n\t\tcolor: indianred;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 80%;\r\n\t}\r\n\r\n\t.comment-btn {\r\n\t\t// color:dimgray;\r\n\t\tfont-weight: 550;\r\n\t\tfont-size: 90%;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.collect-btn {\r\n\t\t// color:orange;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 70%;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.delete-btn {\r\n\t\tcolor: red;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 70%;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.vote-desc {\r\n\t\tcolor: dimgray;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 110%;\r\n\t}\r\n\r\n\t.show-chart-btn {\r\n\t\tcolor: black;\r\n\t\tfont-weight: 600;\r\n\t\tfont-size: 100%;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.change-chart-btn {\r\n\t\tcolor: blue;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 100%;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.toolbar {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: var(--window-bottom);\r\n\t\tz-index: 1;\r\n\t\theight: 70rpx;\r\n\t\tbackground-color: ghostwhite;\r\n\t\tborder: solid 1px gray;\r\n\t}\r\n</style>","import mod from \"-!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./PostDetails.vue?vue&type=style&index=0&id=55c54db0&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Softwares\\\\HBuilderX.full.3.3.11\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./PostDetails.vue?vue&type=style&index=0&id=55c54db0&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1694785165122\n      var cssReload = require(\"E:/Softwares/HBuilderX.full.3.3.11/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}